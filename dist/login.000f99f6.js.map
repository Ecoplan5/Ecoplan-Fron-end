{"mappings":"AAAA,eAAe;IACX,MAAM,iBAAiB,SAAS,cAAc,CAAC,kBAAkB,KAAK;IACtE,MAAM,aAAa,SAAS,cAAc,CAAC,cAAc,KAAK;IAE9D,IAAI,CAAC,kBAAkB,CAAC,YAAY;QAChC,KAAK,IAAI,CAAC,SAAS,2CAAwC;QAC3D;IACJ;IAEA,MAAM,OAAO;QAAE;QAAgB;IAAW;IAE1C,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,mCAAmC;YAC5D,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACzB;QAEA,IAAI,SAAS,EAAE,EAAE;YACb,MAAM,eAAe,MAAM,SAAS,IAAI;YAExC,IAAI,aAAa,KAAK,IAAI,aAAa,OAAO,EAAE;gBAC5C,oDAAoD;gBACpD,aAAa,OAAO,CAAC,SAAS,aAAa,KAAK;gBAChD,aAAa,OAAO,CAAC,WAAW,KAAK,SAAS,CAAC,aAAa,OAAO;gBAEnE,KAAK,IAAI,CAAC,YAAS,+BAA4B;gBAC/C,WAAW;oBACP,QAAQ,GAAG,CAAC;oBACZ,OAAO,QAAQ,CAAC,IAAI,GAAG;gBAC3B,GAAG;YACP,OACI,KAAK,IAAI,CAAC,SAAS,8CAAwC;QAEnE,OAAO;YACH,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,MAAM,eAAe,UAAU,OAAO,IAAI;YAC1C,KAAK,IAAI,CAAC,SAAS,cAAc;QACrC;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAAyB;QACvC,KAAK,IAAI,CAAC,SAAS,wCAAwC;IAC/D;AACJ","sources":["src/js/login.js"],"sourcesContent":["async function login() {\n    const nombre_usuario = document.getElementById('nombre_usuario').value;\n    const contrasena = document.getElementById('contrasena').value;\n\n    if (!nombre_usuario || !contrasena) {\n        Swal.fire(\"Error\", \"Usuario o contraseña son incorrectos\", \"error\");\n        return;\n    }\n\n    const data = { nombre_usuario, contrasena };\n\n    try {\n        const response = await fetch('http://localhost:8092/api/login', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(data),\n        });\n\n        if (response.ok) {\n            const responseData = await response.json();\n\n            if (responseData.token && responseData.usuario) {\n                // Guardar token y datos del usuario en localStorage\n                localStorage.setItem(\"token\", responseData.token);\n                localStorage.setItem(\"usuario\", JSON.stringify(responseData.usuario));\n             \n                Swal.fire(\"Éxito\", \"Inicio de sesión exitoso\", \"success\");\n                setTimeout(() => {\n                    console.log(\"Mandando al index...\");\n                    window.location.href = \"/index.html\"; \n                }, 2000);\n            } else {\n                Swal.fire(\"Error\", \"Datos de inicio de sesión inválidos.\", \"error\");\n            }\n        } else {\n            const errorData = await response.json();\n            const mensajeError = errorData.mensaje || \"Error desconocido\";\n            Swal.fire(\"Error\", mensajeError, \"error\");\n        }\n    } catch (error) {\n        console.error(\"Error en la conexión:\", error);\n        Swal.fire(\"Error\", \"No se pudo conectar con el servidor.\", \"error\");\n    }\n}\n"],"names":[],"version":3,"file":"login.000f99f6.js.map","sourceRoot":"/__parcel_source_root/"}